{"version":3,"sources":["widget-voice.js"],"names":["window","angular","undefined","widgetComponent","$inject","module","directive","widgetHostedURL","WidgetAPI","$q","$cookies","store","$location","$http","$window","$timeout","scope","replace","template","link","element","params","api","InitVoiceLog","LoadVoiceConfiguration","interactionData","getInteractionData","configuration","getConfiguration","interactionID","getInteractionId","workRequestId","workspace_language","locale","id","toString","isSecure","document","location","protocol","htmlInteractionPrefix","capabilities","contextData","objCsDetails","objInteraction","widgetRefId","alertingTime","answerTime","acwTime","endTime","dispoitionId","dispoitionValue","notesSaved","senderTitle","callType","transferType","transferVal","jsonCustomerList","lastInteractionState","lastContextState","serviceType","ivr_language","channel","agentHandle","handle","interactionState","agentType","notification","repeatedCustomer","callNotes","dispositionDesc","dispositionCode","isNewCall","servicesTransferList","servicesTransferListRawJson","dispositionCodeResponse","recentCallNotesJsonResponse","bodyNotificationHeader","updateCsDetailsFlag","ffpUpdateCsResponse","validateSaveDeenrollFlag","txtDeEnrollementNotes","InitVoiceMethodsInsideScope","WriteLog","DEBUG","JSON","stringify","onDataEvent","data","INFO","completeConfereneTransfer","onContextDetails","state","title","ucid","contactId","onAlerting","onActiveSkipping","onActive","onACW","onInteractionEnded","onCardFocusedEvent","saveRecentCallNotes_Click","saveRecentCallNotes","cancelRecentCallNotes_Click","cancelRecentCallNotes","recentCallNoteSearch_Click","SearchRecentCallNotes","btnCancelMessagePopup_click","onbtnCancelMessagePopup","clearDeEnrollementNotes_Click","clearDeEnrollementNotes","btnTransferClick","val","makeCallTransferConference","saveDeEnrollementNotes_Click","saveDeEnrollementNotes","$","on","validateForm","event","which","keyCode","trim","prop","preventDefault","searchAndPopulate","searchParenteleID","this","closest","value","toLowerCase","each","index","find","not_found","text","indexOf","toggle","CallLogtdVal","children","CallLogtdwidth","width","CallLogtdposition","offset","CallLogtdpositionLeft","left","CallLogtdpositionTopVal","top","append","CallLogtdpositionTop","height","css","remove","callLogDataTableClear","callLogDataTable","addClass","hide","thisnotfilistID","attr","removeClass","tabSwitchVal","parent","siblings","ready","setTimeout","datetimepicker","ignoreReadonly","format","defaultDate","Date","maxDate","minDate","e","date","dropdownParentelementID","toggleClass","dropdownParenteleID","selectVal","show","ev","target","is","setFocusOnNotificationClick","split","selectDataVal","dispotionDropdownChange","equalheight","container","$el","currentTallest","currentRowStart","rowDivs","Array","topPostion","position","currentDiv","length","push","unregister"],"mappings":"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","file":"widget-voice.js","sourcesContent":["(function ( window, angular, undefined ) {\r\n\r\nvar template= \"<div class=\\\"neo-widget widget--widget-voice quatar-widget-voice\\\" id=\\\"voice__{{interactionID}}\\\">\\n\\n    <div class=\\\"neo-widget__content neo-widget__content--indented\\\" style=\\\"padding: 0px;\\\">\\n\\n        <header>\\n\\n            <img class=\\\"logo\\\" src=\\\"{{widgetHostedURL}}widget-voice/images/Qatar_Airways_W_logo.png\\\" alt=\\\"Qatar\\\" title=\\\"Qatar\\\" />\\n\\n        </header>\\n\\n        <div class=\\\"body-container\\\">\\n\\n            <div class=\\\"tab-container\\\">\\n\\n                <div class=\\\"tab-header-container\\\">\\n\\n                    <ul class=\\\"tab-head-list\\\">\\n\\n                        <li class=\\\"tab-switcher-active\\\">\\n\\n                            <p class=\\\"tab-switcher\\\" id=\\\"tab-customer-details\\\" data-tab-index=\\\"voice__{{interactionID}}__tab1\\\">{{lang[workspace_language].LABLETabCustomerDetails}}</p>\\n\\n                        </li>\\n\\n                        <li>\\n\\n                            <p class=\\\"tab-switcher\\\" id=\\\"tab-header-call-log\\\" data-tab-index=\\\"voice__{{interactionID}}__tab2\\\">{{lang[workspace_language].LABLETabCallLog}}</p>\\n\\n                        </li>\\n\\n                        <!-- <li>\\n\\n                            <p class=\\\"tab-switcher\\\" data-tab-index=\\\"voice__{{interactionID}}__tab3\\\">{{lang[workspace_language].LABLETabPaymentLink}}</p>\\n\\n                        </li>-->\\n\\n                        <li>\\n\\n                            <p class=\\\"tab-switcher\\\" id=\\\"tab-header-call-notes\\\" data-tab-index=\\\"voice__{{interactionID}}__tab4\\\">{{lang[workspace_language].LABLETabCallNotes}}</p>\\n\\n                        </li>\\n\\n\\n\\n                        <!-- <li class=\\\"hide\\\">\\n\\n                            <p class=\\\"tab-switcher\\\" id=\\\"tab-transfer\\\" data-tab-index=\\\"voice__{{interactionID}}__tab5\\\">\\n\\n                                {{lang[workspace_language].LABLETabTransfer}}</p>\\n\\n                        </li> -->\\n\\n                        <li ng-click=\\\"getffpNumber()\\\" ng-if= enableFFPTab>\\n\\n                            <p class=\\\"tab-switcher\\\" id=\\\"tab-voicebiometric\\\"\\n\\n                                data-tab-index=\\\"voice__{{interactionID}}__tab6\\\">\\n\\n                                {{lang[workspace_language].LABLETabVoiceBiometric}}</p>\\n\\n                        </li>\\n\\n                        <!-- ng-if=enableAgent -->\\n\\n                        <li ng-if=enableDeEnroll>\\n\\n                            <p class=\\\"tab-switcher\\\" id=\\\"tab-de_enroll\\\" data-tab-index=\\\"voice__{{interactionID}}__tab7\\\">\\n\\n                                {{lang[workspace_language].LABLETabDeEnroll}}</p>\\n\\n                        </li>\\n\\n                    </ul>\\n\\n                </div>\\n\\n                <div class=\\\"tab-body-container\\\">\\n\\n                    <div class=\\\"tab-body  tab-body-active\\\" data-tab-body=\\\"voice__{{interactionID}}__tab1\\\">\\n\\n                        <div class=\\\"table-body-container1\\\">\\n\\n                            <!--<div class=\\\"head-content\\\" >\\n\\n                                <h3>IVR Screen Pop Data</h3>\\n\\n                            </div>-->\\n\\n                            <div class=\\\"customer-detailinfo-container\\\">\\n\\n                                <ul class=\\\"customer-detailinfo-list\\\" style=\\\"\\\">\\n\\n                                    <li>\\n\\n                                        <div class=\\\"customer-detailinfo\\\" id=\\\"channelDetails\\\">\\n\\n                                            <label>{{lang[workspace_language].LABLEPreferrdChennal}}</label>\\n\\n                                            <p style=\\\"\\\" id=\\\"pChannel\\\">\\n\\n                                                <i></i><span></span>\\n\\n                                            </p>\\n\\n                                        </div>\\n\\n                                    </li>\\n\\n                                    <li>\\n\\n                                        <div class=\\\"customer-detailinfo\\\" id=\\\"customerTire\\\">\\n\\n                                            <label>{{lang[workspace_language].LABLEPreferrdTire}}</label>\\n\\n                                            <p style=\\\"\\\" id=\\\"pTire\\\">\\n\\n                                                <i></i><span></span>\\n\\n                                            </p>\\n\\n                                        </div>\\n\\n                                    </li>\\n\\n                                    <li>\\n\\n                                        <div class=\\\"customer-detailinfo\\\" id=\\\"identfiedCustomer\\\">\\n\\n                                            <label>{{lang[workspace_language].LABLEPreferrdIdentified}}</label>\\n\\n                                            <p style=\\\"\\\" id=\\\"pIdentified\\\">\\n\\n                                                <i></i><span></span>\\n\\n                                            </p>\\n\\n                                        </div>\\n\\n                                    </li>\\n\\n                                    <li>\\n\\n                                        <div class=\\\"customer-detailinfo\\\" id=\\\"verifiedCustomers\\\">\\n\\n                                            <label>{{lang[workspace_language].LABLEPreferrdVerified}}</label>\\n\\n                                            <p id=\\\"pVerified\\\">\\n\\n                                                <i></i><span></span>\\n\\n                                            </p>\\n\\n                                        </div>\\n\\n                                    </li>\\n\\n                                    <li>\\n\\n                                        <div class=\\\"customer-detailinfo\\\" id=\\\"disruptionStatus\\\">\\n\\n                                            <label>{{lang[workspace_language].LABLEPreferrdDisruptionStatus}}</label>\\n\\n                                            <p style=\\\"\\\" id=\\\"pDisruptionStatus\\\">\\n\\n                                                <i></i><span></span>\\n\\n                                            </p>\\n\\n                                        </div>\\n\\n                                    </li>\\n\\n                                    <li>\\n\\n                                        <div class=\\\"customer-detailinfo\\\" id=\\\"repeatedcustomers\\\">\\n\\n                                            <label>{{lang[workspace_language].LABLEPreferrdRepeatedCustomer}}</label>\\n\\n                                            <p style=\\\"\\\" id=\\\"pRepeatedCustomer\\\">\\n\\n                                                <i class=\\\"fa-user\\\" style=\\\"\\\"></i><span></span>\\n\\n                                            </p>\\n\\n                                        </div>\\n\\n                                    </li>\\n\\n                                    <li style=\\\"width: 50%;\\\">\\n\\n                                        <div class=\\\"customer-detailinfo\\\" id=\\\"departure48Hours\\\">\\n\\n                                            <label>{{lang[workspace_language].LABLEPreferrdFilghtDepartureTimeLessThan48hr}}</label>\\n\\n                                            <p style=\\\"\\\" id=\\\"pFlightDepartureTimeLessthen48\\\">\\n\\n                                                <i class=\\\"fa-clock\\\" style=\\\"\\\"></i><span></span>\\n\\n                                            </p>\\n\\n                                        </div>\\n\\n                                    </li>\\n\\n                                </ul>\\n\\n                            </div>\\n\\n                            <table class=\\\"table-detail-container\\\">\\n\\n                                <thead>\\n\\n                                    <tr>\\n\\n                                        <th colspan=\\\"2\\\" style=\\\"background-color: #3f617a; font-size: 14px;\\\">Customer Details</th>\\n\\n                                    </tr>\\n\\n                                </thead>\\n\\n                                     <tbody id=\\\"tbodyCsNotificationHeader\\\">\\n\\n                                </tbody>\\n\\n                            </table>\\n\\n\\n\\n                        </div>\\n\\n                    </div>\\n\\n                    <div class=\\\"tab-body call-log\\\" data-tab-body=\\\"voice__{{interactionID}}__tab2\\\">\\n\\n                        <ul class=\\\"form-container flex\\\" style=\\\"padding-bottom: 10px\\\" id=\\\"call-log-filter\\\">\\n\\n                            <li>\\n\\n                                <div class=\\\"field-group from-date-field\\\">\\n\\n                                    <div class=\\\"label-field\\\">\\n\\n                                        <label>{{lang[workspace_language].LABLEStartDate}}</label>\\n\\n                                    </div>\\n\\n                                    <div class=\\\"input-field\\\">\\n\\n                                        <input type=\\\"text\\\" id=\\\"txtStartDate\\\" class=\\\"input-date\\\">\\n\\n                                        <img class=\\\"calendar-icon\\\" src=\\\"{{widgetHostedURL}}widget-voice/images/start-date-icon.png\\\" alt=\\\"Start Date\\\" title=\\\"Start Date\\\" />\\n\\n                                    </div>\\n\\n                                </div>\\n\\n                            </li>\\n\\n                            <li>\\n\\n                                <div class=\\\"field-group to-date-field\\\">\\n\\n                                    <div class=\\\"label-field\\\"><label for=\\\"fname\\\">{{lang[workspace_language].LABLEEndDate}}</label></div>\\n\\n                                    <div class=\\\"input-field\\\">\\n\\n                                        <input type=\\\"text\\\" id=\\\"txtEndDate\\\" class=\\\"input-date\\\">\\n\\n                                        <img class=\\\"calendar-icon\\\" src=\\\"{{widgetHostedURL}}widget-voice/images/end-date-icon.png\\\" alt=\\\"End Date\\\" title=\\\"End Date\\\" />\\n\\n                                    </div>\\n\\n                                </div>\\n\\n                            </li>\\n\\n                            <li>\\n\\n                                <div class=\\\"field-group\\\">\\n\\n                                    <div class=\\\"label-field\\\">\\n\\n                                        <label>{{lang[workspace_language].LABLERecentCallNoteSearchMobileNumber}} :</label>\\n\\n                                    </div>\\n\\n                                    <div class=\\\"input-field\\\">\\n\\n                                        <input type=\\\"text\\\" id=\\\"txtRecentSearchMobileNumber\\\" class=\\\"input-text\\\" />\\n\\n                                    </div>\\n\\n                                </div>\\n\\n                            </li>\\n\\n                            <li>\\n\\n                                <div class=\\\"input-field\\\">\\n\\n                                    <ul class=\\\"btn-container\\\">\\n\\n                                        <li class=\\\"pull-right\\\"><button class=\\\"input-btn green-btn\\\" ng-click=\\\"recentCallNoteSearch_Click()\\\">{{lang[workspace_language].LABLEsearch}}</button></li>\\n\\n\\n\\n                                    </ul>\\n\\n                                </div>\\n\\n                            </li>\\n\\n                        </ul>\\n\\n                        <div class=\\\"table-body-container2\\\" style=\\\"height: calc(100% - 42px);\\\">\\n\\n                            <table class=\\\"table-container\\\" id=\\\"callLogTable_{{interactionID}}\\\">\\n\\n                                <thead>\\n\\n                                    <tr>\\n\\n                                        <th class=\\\"callLogTableDate\\\">Date Time</th>\\n\\n                                        <th class=\\\"callLogTableAgentName\\\">Agent Name</th>\\n\\n                                        <th>Disposition Desc</th>\\n\\n                                        <th id=\\\"callLogTable_callNotes\\\">Call Notes</th>\\n\\n                                    </tr>\\n\\n                                </thead>\\n\\n                                <tbody id=\\\"tBodyCallNote\\\">\\n\\n                                    \\n\\n                                </tbody>\\n\\n                            </table>\\n\\n                        </div>\\n\\n                    </div>\\n\\n\\n\\n                    <div class=\\\"tab-body\\\" data-tab-body=\\\"voice__{{interactionID}}__tab4\\\">\\n\\n                        <div class=\\\"body-column-container\\\">\\n\\n                            <div class=\\\"column-container\\\" style=\\\"width: 100%;\\\">\\n\\n                                <ul class=\\\"form-container\\\" style=\\\"padding-top: 10px; padding-bottom: 10px\\\">\\n\\n                                    <li style=\\\"width: 250px;\\\">\\n\\n                                        <div class=\\\"field-group\\\">\\n\\n                                            <div class=\\\"label-field\\\">\\n\\n                                                <label>{{lang[workspace_language].LABLEDispostionCode}}</label>\\n\\n                                            </div>\\n\\n                                            <div class=\\\"input-field\\\">\\n\\n                                                <div class=\\\"dropdown-container bottom\\\" id=\\\"dispositionCodeDropdown__voice__{{interactionID}}\\\">\\n\\n                                                    <span class=\\\"dropdown-btn\\\"></span>\\n\\n                                                    <input type=\\\"text\\\" class=\\\"input-text\\\" readonly placeholder=\\\"Select Disposiciton\\\" />\\n\\n                                                    <i class=\\\"fa fa-chevron-down dropdown-icon-btn\\\"></i>\\n\\n                                                    <div class=\\\"dropdown-list-container\\\">\\n\\n                                                        <input type=\\\"text\\\" class=\\\"input-search\\\" id=\\\"inputsearch\\\" />\\n\\n\\n\\n                                                        <ul class=\\\"singleselect-dropdown-list\\\" id=\\\"disposition_dropdown\\\">\\n\\n                                                            <li ng-if=\\\"dispositionCodeResponse==null\\\" style=\\\"display: none;\\\"><data></data></li>\\n\\n                                                            <li ng-if=\\\"dispositionCodeResponse!=null\\\" ng-repeat=\\\"dispositioncode in dispositionCodeResponse\\\"><data data-value={{dispositioncode.code}}>{{dispositioncode.friendlyName}}({{dispositioncode.code}})</data></li>\\n\\n                                                        </ul>\\n\\n                                                    </div>\\n\\n                                                </div>\\n\\n                                            </div>\\n\\n                                        </div>\\n\\n                                    </li>\\n\\n                                    <li>\\n\\n                                        <div class=\\\"field-group\\\">\\n\\n                                            <div class=\\\"label-field\\\">\\n\\n                                                <label>{{lang[workspace_language].LABLECallNotes}}</label>\\n\\n                                            </div>\\n\\n                                            <div class=\\\"input-field\\\">\\n\\n                                                <textarea class=\\\"input-textarea\\\" style=\\\"height: 250px;\\\" id=\\\"txtRecentCallNotes\\\" maxlength=\\\"250\\\"></textarea>\\n\\n                                            </div>\\n\\n                                        </div>\\n\\n                                    </li>\\n\\n                                    <li>\\n\\n                                        <div class=\\\"input-field\\\">\\n\\n                                            <ul class=\\\"btn-container\\\">\\n\\n                                                <li class=\\\"pull-right\\\"><button class=\\\"input-btn green-btn\\\" ng-click=\\\"saveRecentCallNotes_Click()\\\" id=\\\"saveRecentCallNotes\\\">{{lang[workspace_language].BUTTONCallNotes}}</button></li>\\n\\n                                                <li class=\\\"pull-right\\\"><button class=\\\"input-btn red-btn\\\" ng-click=\\\"cancelRecentCallNotes_Click()\\\" id=\\\"cancelRecentCallNotes\\\">{{lang[workspace_language].BUTTONCancel}}</button></li>\\n\\n                                            </ul>\\n\\n                                        </div>\\n\\n                                    </li>\\n\\n                                </ul>\\n\\n                            </div>\\n\\n                        </div>\\n\\n                    </div>\\n\\n                    <div class=\\\"tab-body transfer hide\\\"  data-tab-body=\\\"voice__{{interactionID}}__tab5\\\">\\n\\n                        <div class=\\\"tab-container tab-container2\\\">\\n\\n                        </div>\\n\\n                    </div>\\n\\n                    \\n\\n                    <div class=\\\"tab-body voice-biometric\\\" data-tab-body=\\\"voice__{{interactionID}}__tab6\\\">\\n\\n                        <div class=\\\"container\\\">\\n\\n                            <div class=\\\"row\\\">\\n\\n                                <div class=\\\"col-12\\\" style=\\\"width: 75%;\\\">\\n\\n                                    <div class=\\\"widget-container\\\">\\n\\n                                        <div class=\\\"mt-3 container-inner col-6\\\">\\n\\n                                            <!-- Search Input -->\\n\\n                                            <label for=\\\"ffp\\\">FFP :</label>\\n\\n                                            <div class=\\\"search-div\\\">\\n\\n                                                <input type=\\\"text\\\" class=\\\"form-control\\\" name=\\\"ffp\\\" id=\\\"vbffpinput\\\">\\n\\n                                                <button class=\\\"search-button btn btn-primary ffp-search-button\\\" ng-click=\\\"searchAndPopulate()\\\">Search</button>\\n\\n                                            </div>\\n\\n                                        </div>\\n\\n                    \\n\\n                                        <!-- Dynamic Form -->\\n\\n                                        <form class=\\\"mt-3\\\" id=\\\"voicebiometricForm\\\">\\n\\n                                            <div class=\\\"mt-3 container-inner\\\">\\n\\n                                                <label for=\\\"customer_name\\\">{{lang[workspace_language].LABELCustomerName}} :</label>\\n\\n                                                <input type=\\\"text\\\" id=\\\"vbCustomerName\\\" class=\\\"form-control dynamicForminput\\\" name=\\\"customer_name\\\" readonly>\\n\\n                                            </div>\\n\\n\\n\\n                                            <div class=\\\"mt-3 container-inner\\\">\\n\\n                                                <label for=\\\"email\\\">{{lang[workspace_language].LABELEmailID}} :</label>\\n\\n                                                <input type=\\\"text\\\" class=\\\"form-control dynamicForminput\\\" id=\\\"vbEmailId\\\" name=\\\"email\\\" readonly>\\n\\n                                            </div>\\n\\n\\n\\n                                            <div class=\\\"mt-3 container-inner\\\">\\n\\n                                                <label for=\\\"segment\\\">{{lang[workspace_language].LABELSegment}} :</label>\\n\\n                                                <input type=\\\"text\\\" class=\\\"form-control dynamicForminput\\\" id=\\\"vbSegment\\\" name=\\\"segment\\\" readonly>\\n\\n                                            </div>\\n\\n\\n\\n                                            <div class=\\\"mt-3 container-inner\\\">\\n\\n                                                <label for=\\\"dob\\\">{{lang[workspace_language].LABELDoB}} :</label>\\n\\n                                                <input type=\\\"text\\\" class=\\\"form-control dynamicForminput\\\" id=\\\"vbDob\\\" name=\\\"dob\\\" readonly>\\n\\n                                            </div>\\n\\n\\n\\n                                            <div class=\\\"mt-3 container-inner\\\">\\n\\n                                                <label for=\\\"vb-sts\\\">{{lang[workspace_language].LABELVBStatus}} :</label>\\n\\n                                                <input type=\\\"text\\\" class=\\\"form-control dynamicForminput\\\" id=\\\"vbSts\\\" name=\\\"vb-sts\\\" readonly>\\n\\n                                            </div>\\n\\n\\n\\n                                            <div class=\\\"mt-3 container-inner\\\">\\n\\n                                                <label for=\\\"vb-sts-date\\\">{{lang[workspace_language].LABELVBStatusDate}} :</label>\\n\\n                                                <input type=\\\"text\\\" class=\\\"form-control dynamicForminput\\\" id=\\\"vbStsDate\\\"\\n\\n                                                    name=\\\"vb-sts-date\\\" readonly>\\n\\n                                            </div>\\n\\n\\n\\n                                            <div class=\\\"mt-3 container-inner\\\">\\n\\n                                                <label for=\\\"isBlackListed\\\">{{lang[workspace_language].LABELVBBlackListed}} :</label>\\n\\n                                                <input type=\\\"text\\\" class=\\\"form-control dynamicForminput vbEligible\\\" id=\\\"isBlackListed\\\"\\n\\n                                                    name=\\\"isBlackListed\\\" readonly>\\n\\n                                            </div>\\n\\n\\n\\n                                            <div class=\\\"mt-3 container-inner hide\\\">\\n\\n                                                <label for=\\\"vb-eligible\\\">{{lang[workspace_language].LABELVBEligible}} :</label>\\n\\n                                                <input type=\\\"text\\\" class=\\\"form-control dynamicForminput vbEligible\\\" id=\\\"vbEligible\\\"\\n\\n                                                    name=\\\"vb-eligible\\\" readonly>\\n\\n                                            </div>\\n\\n               \\n\\n\\n\\n\\n\\n                                            <div class=\\\"mt-3 container-inner checkbox-container hide\\\">\\n\\n                                                <div class=\\\"checkbox-container2\\\">\\n\\n                                                    <input type=\\\"checkbox\\\" class=\\\"input-checkbox\\\" name=\\\"identified\\\" id=\\\"identifiedCheckbox\\\"/>\\n\\n                                                    <label for=\\\"identifiedCheckbox\\\" class=\\\"enable_identified_flag\\\" >{{lang[workspace_language].CHECKBOXIdentified}} </label>\\n\\n                                                </div>\\n\\n                                                <div class=\\\"checkbox-container2\\\">\\n\\n                                                    <input type=\\\"checkbox\\\" class=\\\"input-checkbox\\\" name=\\\"verified\\\" id=\\\"verifiedCheckbox\\\"/>\\n\\n                                                    <label for=\\\"verifiedCheckbox\\\" class=\\\"enable_verified_flag\\\">{{lang[workspace_language].CHECKBOXVerified}} </label>\\n\\n                                                </div>\\n\\n                                            </div>\\n\\n                    \\n\\n                                            <!-- Other form elements or buttons can be added here -->\\n\\n                                            <div class=\\\"mt-3 container-inner dynamicForminput_button\\\">\\n\\n                                                <button class=\\\"input-btn red-btn hide\\\" ng-click=\\\"clearForm_Click()\\\" id=\\\"clearVoicebiomatricForm\\\">{{lang[workspace_language].BUTTONClear}}</button>\\n\\n                                                <button class=\\\"input-btn green-btn\\\" style=\\\"display: none\\\" id=\\\"vb-Transfer-btn\\\" ng-click=\\\"btnTransferClick('TRANSFER')\\\" >{{lang[workspace_language].BUTTONTransfer}}</button>\\n\\n                                            </div>\\n\\n                                        </form>\\n\\n                                    </div>\\n\\n                                </div>\\n\\n                            </div>\\n\\n                        </div>\\n\\n                    </div>\\n\\n                    \\n\\n                    <div class=\\\"tab-body\\\" data-tab-body=\\\"voice__{{interactionID}}__tab7\\\">\\n\\n                        <div class=\\\"body-column-container\\\">\\n\\n                            <div class=\\\"column-container\\\" style=\\\"width: 100%;\\\">\\n\\n                                <ul class=\\\"form-container\\\" style=\\\"padding-top: 10px; padding-bottom: 10px\\\">\\n\\n                                    <li>\\n\\n                                        <div class=\\\"field-group\\\">\\n\\n                                            <div class=\\\"label-field\\\">\\n\\n                                                <label>{{lang[workspace_language].LABLETabDeEnroll}}</label>\\n\\n                                            </div>\\n\\n                                            <div class=\\\"input-field\\\">\\n\\n                                                <textarea class=\\\"input-textarea\\\" style=\\\"height: 250px;\\\" id=\\\"txtDeEnrollementNotes\\\" ng-model=\\\"deEnrollementNotes\\\" ng-change=\\\"checkTextareaEmpty()\\\"  disabled></textarea>\\n\\n                                                <span class=\\\"txtDeEnrollementNotes_msg\\\"></span>\\n\\n                                            </div>\\n\\n                                        </div>\\n\\n                                    </li>\\n\\n                                    <li>\\n\\n                                        <div class=\\\"input-field\\\">\\n\\n                                            <ul class=\\\"btn-container\\\">\\n\\n                                                <li class=\\\"pull-right saveDeEnrollementNotesli\\\" style=\\\"position: relative;\\\">\\n\\n                                                    <button class=\\\"input-btn green-btn hide\\\" ng-click=\\\"saveDeEnrollementNotes_Click()\\\" id=\\\"saveDeEnrollementNotes\\\" ng-disabled=\\\"!deEnrollementNotes\\\">{{lang[workspace_language].BUTTONDeEnroll}}</button>\\n\\n                                                    <div class=\\\"tooltip-message\\\">\\n\\n                                                        <span class=\\\"hover-msg\\\">{{lang[workspace_language].DEENROLLHoverMessage}}</span>\\n\\n                                                    </div>\\n\\n                                                \\n\\n                                                </li>\\n\\n                                                <li class=\\\"pull-right\\\"><button class=\\\"input-btn red-btn\\\" ng-click=\\\"clearDeEnrollementNotes_Click()\\\" id=\\\"clearDeEnrollementNotes\\\" style=\\\"display: none;\\\">{{lang[workspace_language].BUTTONClear}}</button></li>\\n\\n                                            </ul>\\n\\n                                        </div>\\n\\n                                    </li>\\n\\n                                </ul>\\n\\n                            </div>\\n\\n                        </div>\\n\\n                    </div>\\n\\n                    <!-- voice biometric -->\\n\\n                </div>\\n\\n            </div>\\n\\n        </div>\\n\\n    </div>\\n\\n\\n\\n    <div class=\\\"popup-body-container message-popup-container hide\\\" style=\\\"z-index: 99999999\\\">\\n\\n        <div class=\\\"popup-container\\\">\\n\\n            <div class=\\\"popup-header\\\">\\n\\n                <h4 class=\\\"message-popup-head\\\" id=\\\"message-popup-head\\\"></h4><i class=\\\"close-pop-btn hide\\\">X</i>\\n\\n            </div>\\n\\n            <div class=\\\"popup-body\\\" style=\\\"min-height: 80px;\\\">\\n\\n                <p class=\\\"popupmessage\\\" id=\\\"message-popup-content\\\"></p>\\n\\n            </div>\\n\\n            <div class=\\\"popup-footer\\\">\\n\\n                <ul class=\\\"popup-btn-container\\\">\\n\\n                    <li class=\\\"pull-right\\\"><button class=\\\"input-btn green-btn close-pop-btn\\\" id=\\\"btnCancelMessagePopup\\\"\\n\\n                            ng-click=\\\"btnCancelMessagePopup_click()\\\">Close</button></li>\\n\\n                </ul>\\n\\n            </div>\\n\\n        </div>\\n\\n    </div>\\n\\n\\n\\n</div>\";\n\r\n\r\nwidgetComponent.$inject = [\"WidgetAPI\", \"$q\", \"$cookies\", \"store\", \"$location\", \"$http\", \"$window\", \"$timeout\"];angular.module('66205eae-d7d6-4102-8482-d66c7f8a3a1d', [\r\n    'core.services.WidgetAPI'\r\n]).directive('widgetVoice', widgetComponent);\r\n\r\nvar widgetHostedURL = \"https://widgets-uat.glb.emea.qccuat.avayacloud.com/customwidget/\";\r\n \r\n\r\nfunction widgetComponent(WidgetAPI, $q, $cookies, store, $location, $http, $window, $timeout) {\r\n\r\n    function widgetContainer(scope, element, params) {\r\n        // Create a new instance of the Widget API\r\n        var api = new WidgetAPI(params);\r\n\r\n        InitVoiceLog(scope);\r\n        LoadVoiceConfiguration(scope);\r\n         \r\n        scope.interactionData = api.getInteractionData();\r\n        scope.configuration = api.getConfiguration();\r\n        scope.interactionID = api.getInteractionId();\r\n        scope.workRequestId = '';\r\n        scope.workspace_language = api.getConfiguration().locale.id.toString() == \"en-us\" ? \"EN\" : \"AR\";\r\n        scope.isSecure = document.location.protocol == 'https:' ? 'https://' : 'http://';\r\n        scope.widgetHostedURL = widgetHostedURL;\r\n        scope.htmlInteractionPrefix = '#voice__' + scope.interactionID;\r\n        scope.capabilities = '';\r\n        scope.contextData = '';\r\n        scope.objCsDetails = '';\r\n        scope.objInteraction = '';\r\n        scope.widgetRefId = '';\r\n        scope.alertingTime = '';\r\n        scope.answerTime = '';\r\n        scope.acwTime = '';\r\n        scope.endTime = '';\r\n        scope.dispoitionId = '';\r\n        scope.dispoitionValue = '';\r\n        scope.notesSaved = false;\r\n        scope.senderTitle = '';\r\n        scope.callType = ''; //Transfer or conference or survye - Need to add\r\n        scope.transferType = '';\r\n        scope.transferVal = '';\r\n        scope.jsonCustomerList = {};\r\n        scope.lastInteractionState = '';\r\n        scope.lastContextState = '';\r\n        scope.serviceType = '';\r\n        scope.ivr_language = '';\r\n        scope.channel = '';\r\n        scope.agentHandle = scope.configuration.handle;\r\n        scope.interactionState = '';\r\n        scope.agentType = '';\r\n        //scope.enableNotification = false;\r\n        scope.notification = [];\r\n        scope.repeatedCustomer = 0;\r\n        scope.callNotes = '';\r\n        scope.dispositionDesc = '';\r\n        scope.dispositionCode = '';\r\n        scope.isNewCall = false;\r\n        scope.servicesTransferList = [];\r\n        scope.servicesTransferListRawJson = [];\r\n        scope.callNotes = [];\r\n        scope.dispositionCodeResponse = [];\r\n        scope.recentCallNotesJsonResponse = [];\r\n        scope.bodyNotificationHeader = [];\r\n\r\n        scope.updateCsDetailsFlag = false;\r\n        scope.ffpUpdateCsResponse ='';\r\n        scope.validateSaveDeenrollFlag = false;\r\n        scope.txtDeEnrollementNotes ='';\r\n\r\n        // Insert your widget code here\r\n\r\n        InitVoiceMethodsInsideScope(scope);\r\n\r\n        scope.WriteLog(DEBUG, 'configuration - Data - ' + JSON.stringify(scope.configuration));\r\n\r\n        api.onDataEvent('onCapabilitiesEvent', function (data) {\r\n            scope.WriteLog(INFO, 'onCapabilitiesEvent - Intraction ID- ' + scope.interactionID + '. Data - ' + JSON.stringify(data));\r\n            scope.capabilities = data.capabilities;\r\n            scope.completeConfereneTransfer(scope, api, data);\r\n        });\r\n\r\n        // interaction context data COnsider details form Voice only\r\n        api.onDataEvent('onContextDataEvent', function (data) {\r\n            scope.WriteLog(INFO, 'onContextDataEvent - Data - ' + JSON.stringify(data));\r\n\r\n            scope.onContextDetails(scope, api, data, $timeout);\r\n        });\r\n\r\n\r\n\r\n        api.onDataEvent('onInteractionEvent', function (data) {\r\n\r\n            scope.WriteLog(INFO, \"onInteractionEvent START. State -\" + data.state + \". Data\" + JSON.stringify(data));\r\n            scope.interactionID = data.id;\r\n            scope.objInteraction = data;\r\n            scope.workRequestId = data.workRequestId;\r\n            scope.senderTitle = data.title;\r\n            scope.ucid = data.contactId;\r\n\r\n            // if (scope.capabilities.interaction.canEnd == true && data.stateReason == \"Default\" && data.direction == \"INCOMING\" && data.interactionType == \"CALLED\" && data.state == \"ACTIVE\") {\r\n\r\n            //     scope.WriteLog(INFO, 'onInteractionEvent - Intraction end on transfer event');\r\n            //     api.endInteraction();\r\n            //     return;\r\n            // }\r\n\r\n            if (data.state == 'ALERTING' || data.state == 'INITIATED') {\r\n\r\n                scope.onAlerting(scope, api, data, $timeout);\r\n            }\r\n\r\n            else if (data.state == 'ACTIVE') {\r\n\r\n                if (scope.lastInteractionState == 'ACTIVE') {\r\n\r\n                    scope.WriteLog(DEBUG, \"onInteractionEvent. Repeated Active event. Skipping..\");\r\n                    scope.onActiveSkipping(scope, api, data, $timeout);\r\n                    return;\r\n                }\r\n                scope.interactionState = data.state;\r\n                scope.onActive(scope, api, data, $timeout);\r\n\r\n            }\r\n            else if (data.state == 'ACW') {\r\n                scope.onACW(scope, api, data, $timeout);\r\n            }\r\n\r\n            scope.WriteLog(INFO, \"onInteractionEvent END. \");\r\n\r\n        });\r\n\r\n        //interaction ended event fired when the interaction card has ended`\r\n        api.onDataEvent('onInteractionEndedEvent', function (data) {\r\n\r\n            scope.WriteLog(DEBUG, \"onInteractionEndedEvent ->  Start - \" + JSON.stringify(data));\r\n\r\n            scope.onInteractionEnded(scope, api, data, $timeout);\r\n\r\n            scope.WriteLog(DEBUG, \"onInteractionEndedEvent ->  END \");\r\n\r\n        });\r\n\r\n        api.onDataEvent('onCardFocusedEvent', function (data) {\r\n\r\n            scope.WriteLog(DEBUG, \"onCardFocusedEvent ->  Start. Card Focused Data -  \" + JSON.stringify(data));\r\n\r\n            scope.onCardFocusedEvent(scope, data);\r\n        });\r\n\r\n        \r\n\r\n        scope.saveRecentCallNotes_Click = function () {\r\n\r\n            scope.WriteLog(DEBUG, \"saveRecentCallNotes_Click ->  Start \");\r\n\r\n            scope.saveRecentCallNotes(scope, 'saveRecentCallNotes_Click');\r\n\r\n            scope.WriteLog(DEBUG, \"saveRecentCallNotes_Click ->  END \");\r\n        };\r\n\r\n        scope.cancelRecentCallNotes_Click = function () {\r\n\r\n            scope.WriteLog(DEBUG, \"cancelRecentCallNotes_Click ->  Start \");\r\n\r\n            scope.cancelRecentCallNotes(scope);\r\n\r\n            scope.WriteLog(DEBUG, \"cancelRecentCallNotes_Click ->  END \");\r\n        };\r\n\r\n        scope.recentCallNoteSearch_Click = function () {\r\n\r\n            scope.WriteLog(DEBUG, \"recentSearch_Click ->  Start \");\r\n\r\n            scope.SearchRecentCallNotes(scope);\r\n\r\n            scope.WriteLog(DEBUG, \"recentSearch_Click ->  END \");\r\n        };\r\n\r\n        scope.btnCancelMessagePopup_click = function () {\r\n\r\n            scope.onbtnCancelMessagePopup(scope);\r\n        };\r\n\r\n        scope.clearDeEnrollementNotes_Click = function () {\r\n\r\n            scope.WriteLog(DEBUG, \"clearDeEnrollementNotes_Click ->  Start \");\r\n\r\n            scope.clearDeEnrollementNotes(scope);\r\n\r\n            scope.WriteLog(DEBUG, \"clearDeEnrollementNotes_Click ->  END \");\r\n        };\r\n\r\n        scope.btnTransferClick = function (val) {\r\n\r\n            scope.WriteLog(INFO, 'btnTransferClick -Start. Call Type ' + val);\r\n\t\t\t\r\n\t\t\tscope.callType = val; //CONFERENCE or TRANSFER\r\n\t\t\t\r\n\t\t\t\r\n            if (scope.callType == \"TRANSFER\") {\r\n\t\t\t\r\n                        scope.makeCallTransferConference(scope, api);\r\n                        \r\n                        }\r\n                scope.WriteLog(INFO, 'btnTransferClick -End');\r\n        }\r\n\r\n        \r\n        scope.saveDeEnrollementNotes_Click = function () {\r\n\r\n            scope.WriteLog(DEBUG, \"saveDeEnrollementNotes_Click ->  Start \");\r\n\r\n            scope.saveDeEnrollementNotes(scope, 'saveDeEnrollementNotes_Click');\r\n\r\n            scope.WriteLog(DEBUG, \"saveDeEnrollementNotes_Click ->  END \");\r\n        };       \r\n        \r\n        $(document).on(\"change\",\".checkbox-container2 input\", function(){\r\n            scope.validateForm();\r\n        });        \r\n\r\n        $(document).on(\"keypress\",scope.htmlInteractionPrefix + ' #vbffpinput',function(event) {\r\n            if (event.which === 13 || event.keyCode === 13) {                       \r\n                if ($('#vbffpinput').val().trim() !== '') {\t\r\n                    if (!$('.ffp-search-button').prop('disabled')) {\r\n                        event.preventDefault();\r\n                        scope.searchAndPopulate();\r\n                    }\r\n                }}\r\n            });\r\n    \r\n            $(document).on(\"keypress\",scope.htmlInteractionPrefix +' #txtDeEnrollementNotes',function(event) {\r\n                if (event.which === 13 || event.keyCode === 13) {\r\n                    if ($('#txtDeEnrollementNotes').val().trim() !== '') {\r\n                        if (!$('#saveDeEnrollementNotes').prop('disabled')) {   \r\n                            event.preventDefault();     \r\n                            scope.saveDeEnrollementNotes_Click();\r\n                        }\r\n                      }\r\n                   }\r\n            });\r\n            \r\n        \r\n        $(document).on(\"keyup\", \".quatar-widget-voice .table-search-container .table-search-field #inputsearch\", function () {\r\n            var searchParenteleID = $(this).closest(\".table-search-field\").data(\"table-id\");\r\n            var value = this.value.toLowerCase().trim();\r\n            $(\"#\" + searchParenteleID + \" tr\").each(function (index) {\r\n                if (!index)\r\n                    return;\r\n                $(this).find(\"td\").each(function () {\r\n                    var id = $(this).text().toLowerCase().trim();\r\n                    var not_found = (id.indexOf(value) == -1);\r\n                    $(this).closest('tr').toggle(!not_found);\r\n                    return not_found;\r\n                });\r\n            });\r\n        });\r\n\r\n        //table search \r\n\r\n        //recent call note tool tip\r\n        $(document).on(\"mouseenter\", \"#voice__\" + scope.interactionID + \".quatar-widget-voice .table-container#callLogTable_\" + scope.interactionID + \" > tbody > tr > td\", function () {\r\n            var CallLogtdVal = $(this).children(\"p\").data(\"td\");\r\n            var CallLogtdwidth = $(this).width();\r\n            var CallLogtdposition = $(this).children(\"p\").offset();\r\n            var CallLogtdpositionLeft = CallLogtdposition.left;\r\n            var CallLogtdpositionTopVal = CallLogtdposition.top;\r\n            if (CallLogtdVal == \"\" || CallLogtdVal == \"0\" || CallLogtdVal == \"-\") {\r\n            } else {\r\n                $(this).append('<span class=\"tooltipcontent-fixed\" style=\"left:' + CallLogtdpositionLeft + 'px; max-width:' + CallLogtdwidth + 'px;\">' + CallLogtdVal + '</span>');\r\n                var CallLogtoolTipheight = $(\".tooltipcontent-fixed\").height();\r\n                var CallLogtdpositionTop = (CallLogtdpositionTopVal - CallLogtoolTipheight) - 15;\r\n                //  console.log(\"height: \" + CallLogtoolTipheight);\r\n                // console.log(\"top: \" + CallLogtdpositionTop);\r\n                $(\".tooltipcontent-fixed\").css(\"top\", CallLogtdpositionTop + \"px\");\r\n            }\r\n        });\r\n\r\n        $(document).on(\"mouseleave\", \"#voice__\" + scope.interactionID + \".quatar-widget-voice .table-container#callLogTable_\" + scope.interactionID + \" > tbody > tr > td\", function () {\r\n            $(this).children(\".tooltipcontent-fixed\").remove();\r\n        });\r\n\r\n        //recent call note tool tip end\r\n        scope.callLogDataTableClear = function () {\r\n            //$('#callLogTable_' + scope.interactionID).DataTable().clear().destroy();\r\n        }\r\n        scope.callLogDataTable = function () {\r\n            //$('#callLogTable_' + scope.interactionID).DataTable({\r\n            //    autoWidth: false,\r\n            //    scrolly: true,\r\n            //    destroy: true,\r\n            //    iDisplayLength: 25,\r\n            //    order: []\r\n            //});\r\n        };\r\n\r\n       \r\n        //Close Popup\r\n        $(document).on(\"click\", \"#voice__\" + scope.interactionID + \".quatar-widget-voice .close-pop-btn \", function () {\r\n            $(this).closest(\".popup-body-container\").addClass(\"hide\");\r\n        });\r\n        //Close Popup\r\n\r\n        //hide bell !\r\n        $(document).on(\"mouseover\", scope.htmlInteractionPrefix + \" .widget-notfication-icon\", function () {\r\n\r\n            $(scope.htmlInteractionPrefix + \" .widget-notfication-icon .widget-notfiy-icon-count\").hide();\r\n\r\n        });\r\n\r\n        //hide bell!\r\n\r\n        //hide attachment\r\n        /* $(document).ready(function () {\r\n             setTimeout(function(){                 \r\n                 $(\"#voice__\" + scope.interactionID).closest(\".context-widget\").siblings(\".context-widget\").find(\".messenger-input .messenger-input__button.aoc-attach\").closest(\"md-menu\").hide();\r\n             }, 100);\r\n         });*/\r\n\r\n        //hide attachment\r\n        //Close new mssage notification click\r\n        $(document).on(\"click\", '.notification-information-list-container .notification-information-list .voice-close-notifi', function () {\r\n\r\n            var thisnotfilistID = $(this).closest(\".notification-information-list\").attr(\"id\");\r\n            $(\"#\" + thisnotfilistID).removeClass(\"info-notification-active\").remove();\r\n\r\n        });\r\n        //Close new mssage notification click\r\n\r\n\r\n        $(document).on(\"click\", \"#voice__\" + scope.interactionID + \".quatar-widget-voice .tab-container .tab-header-container .tab-head-list > li > p.tab-switcher\", function () {\r\n            var tabSwitchVal = $(this).data(\"tab-index\");\r\n            $(this).parent(\"li\").addClass(\"tab-switcher-active\").siblings().removeClass(\"tab-switcher-active\");\r\n            $(\"#voice__\" + scope.interactionID + \".quatar-widget-voice .tab-container .tab-body-container .tab-body[data-tab-body = \" + tabSwitchVal + \"]\").addClass(\"tab-body-active\").siblings().removeClass(\"tab-body-active\");\r\n        });\r\n\r\n        //Datatable\r\n        $(document).ready(function () {\r\n\r\n\r\n            setTimeout(function () {\r\n                //$('#cannedMessageEnglishTable, #cannedMessageArabicTable').DataTable({\r\n                //    paging: false,\r\n                //    info: false,\r\n                //    autoWidth: false,\r\n                //    scrollCollapse: true,\r\n                //    destroy: true,\r\n                //    iDisplayLength: 5,\r\n                //    order: [],\r\n                //    //columnDefs: [{ orderable: false, targets: [8] }]\r\n\r\n                //});\r\n            }, 3000);\r\n\r\n\r\n\r\n        });\r\n        //Datatable\r\n        //Datetime Picker\r\n        $(function () {\r\n            $(\"#voice__\" + scope.interactionID + \".quatar-widget-voice #txtStartDate\").datetimepicker({\r\n                ignoreReadonly: true,\r\n                format: 'DD/MM/YYYY',\r\n                defaultDate: new Date(),\r\n                maxDate: new Date()\r\n                //maxDate: date,\r\n                //defaultDate: date\r\n            });\r\n\r\n            $(\"#voice__\" + scope.interactionID + \".quatar-widget-voice #txtEndDate\").datetimepicker({\r\n                ignoreReadonly: true,\r\n                format: 'DD/MM/YYYY',\r\n                //defaultDate: date,\r\n                //minDate: date,\r\n                //maxDate: date\r\n                defaultDate: new Date(),\r\n                minDate: new Date(),\r\n                maxDate: new Date()\r\n            });\r\n\r\n            $(\"#voice__\" + scope.interactionID + \".quatar-widget-voice #txtStartDate\").datetimepicker().on('dp.change', function (e) {\r\n                $(\"#voice__\" + scope.interactionID + \".quatar-widget-voice #txtEndDate\").data('DateTimePicker').minDate(new Date(e.date));\r\n            });\r\n\r\n        });\r\n        //Datetime Picker\r\n\r\n\r\n        //single select dropdown with search\r\n        $(document).on(\"click\", \"#voice__\" + scope.interactionID + \" .dropdown-container .dropdown-btn\", function () {\r\n            var dropdownParentelementID = $(this).closest(\".dropdown-container\").attr(\"id\");\r\n            //console.log(\"Dropdown ID: #\" + dropdownParentelementID);            \r\n            $(\"#\" + dropdownParentelementID).toggleClass(\"dropdown-active\").closest(\"li\").siblings(\"li\").find(\".dropdown-container\").removeClass(\"dropdown-active\");\r\n            // ev.stopPropagation();\r\n        });\r\n        $(document).ready(function () {\r\n\r\n            $(document).on(\"click\", \".dropdown-container .dropdown-list-container .singleselect-dropdown-list li data\", function () {\r\n                var dropdownParenteleID = $(this).closest(\".dropdown-container\").attr(\"id\");\r\n                var selectVal = $(this).text();\r\n                var selectDataVal = $(this).data(\"value\");\r\n                $(this).parent(\"li\").addClass(\"active\").siblings(\"li\").removeClass(\"active\").closest(\".dropdown-container\").removeClass(\"dropdown-active\");\r\n                $(\"#\" + dropdownParenteleID + \".dropdown-container .input-text\").val(selectVal);\r\n                $(\".dropdown-container #inputsearch\").val(\"\");\r\n                $(\".dropdown-container .dropdown-list-container .singleselect-dropdown-list li:nth-child(n+2)\").show();\r\n            });\r\n\r\n            $(document).on(\"click\", function (ev) {\r\n                var evdroptarget = \".dropdown-container .dropdown-btn, .dropdown-container #inputsearch, #liTopice, #liTopice .label-field label\"\r\n                if ($(ev.target).is(evdroptarget) === false) {\r\n                    //console.log(\"click Test 1\");\r\n                    $(\".dropdown-container\").removeClass(\"dropdown-active\");\r\n                    $(\".dropdown-container #inputsearch\").val(\"\");\r\n                    $(\".dropdown-container .dropdown-list-container .singleselect-dropdown-list li:nth-child(n+2)\").show();\r\n                }\r\n            });\r\n        });\r\n\r\n        $(document).on(\"keyup\", \".dropdown-container .dropdown-list-container #inputsearch\", function () {\r\n            var dropdownParenteleID = $(this).closest(\".dropdown-container\").attr(\"id\");\r\n            var value = this.value.toLowerCase().trim();\r\n            $(\"#\" + dropdownParenteleID + \".dropdown-container .dropdown-list-container .singleselect-dropdown-list li\").each(function (index) {\r\n                if (!index)\r\n                    return;\r\n                $(this).find(\"data\").each(function () {\r\n                    var id = $(this).text().toLowerCase().trim();\r\n                    var not_found = (id.indexOf(value) == -1);\r\n                    $(this).closest('li').toggle(!not_found);\r\n                    return not_found;\r\n                });\r\n            });\r\n        });\r\n        //single select dropdown with search\r\n        /*service topic dropdown select change Begin*/\r\n        //$(document).on(\"click\", \".dropdown-container#topicListDropdown__\" + scope.interactionID + \" .dropdown-list-container .singleselect-dropdown-list li data\", function () {\r\n        //    var dropdownParenteleID = $(this).closest(\".dropdown-container\").attr(\"id\");\r\n        //    var selectVal = $(this).text();\r\n        //    var selectDataVal = $(this).data(\"value\");\r\n        //    var _cbo = $(this);\r\n        //    $(\".dropdown-container #inputsearch\").val(\"\");\r\n\r\n        //    scope.filterCannedMessageTopicDropdownChange(scope, _cbo, dropdownParenteleID, selectVal, scope.jsonCollectionCannedMessageAndAttachments.CANNEDMESSAGE);\r\n        //});\r\n        /*service topic dropdown select change End*/\r\n\r\n        //voice notification new message focus\r\n        $(document).on(\"click\", '.voicenewmsgnotification_' + scope.interactionID + ' .customer-name-info', function () {\r\n\r\n            scope.WriteLog(INFO, \"voice notification new message focus -> Start\");\r\n\r\n            scope.setFocusOnNotificationClick(scope, api);\r\n\r\n            scope.WriteLog(INFO, \"voice notification new message focus -> End\");\r\n        });\r\n\r\n        /*service disposition dropdown select change Begin*/\r\n        $(document).on(\"click\", \".dropdown-container#dispositionCodeDropdown__voice__\" + scope.interactionID + \" .dropdown-list-container .singleselect-dropdown-list li data\", function () {\r\n\r\n            var dropdownParenteleID = $(this).closest(\".dropdown-container\").attr(\"id\");\r\n            var selectVal = $(this).text();\r\n            selectVal = selectVal.split(' (')[0];\r\n            var selectDataVal = $(this).data(\"value\");\r\n\r\n            scope.dispotionDropdownChange(scope, dropdownParenteleID, selectVal, selectDataVal);\r\n        });\r\n\r\n        /*service disposition dropdown select change End*/\r\n         \r\n\r\n        //Get widget height\r\n        $(document).ready(function () {\r\n            var getWidgetWidth = $(\"#voice__\" + scope.interactionID + \".quatar-widget-voice .body-container\").width();\r\n            if (getWidgetWidth <= '648') {\r\n                $(\"#voice__\" + scope.interactionID + \".quatar-widget-voice .body-container\").addClass(\"widget-tab-view\");\r\n            }\r\n        });\r\n        //Get widget height\r\n\r\n        //equal height \r\n        // JavaScript Document\r\n        equalheight = function (container) {\r\n\r\n            var currentTallest = 0,\r\n                currentRowStart = 0,\r\n                rowDivs = new Array(),\r\n                $el,\r\n                topPosition = 0;\r\n            $(container).each(function () {\r\n\r\n                $el = $(this);\r\n                $($el).height('auto')\r\n                topPostion = $el.position().top;\r\n\r\n                if (currentRowStart != topPostion) {\r\n                    for (currentDiv = 0; currentDiv < rowDivs.length; currentDiv++) {\r\n                        rowDivs[currentDiv].height(currentTallest);\r\n                    }\r\n                    rowDivs.length = 0; // empty the array\r\n                    currentRowStart = topPostion;\r\n                    currentTallest = $el.height();\r\n                    rowDivs.push($el);\r\n                } else {\r\n                    rowDivs.push($el);\r\n                    currentTallest = (currentTallest < $el.height()) ? ($el.height()) : (currentTallest);\r\n                }\r\n                for (currentDiv = 0; currentDiv < rowDivs.length; currentDiv++) {\r\n                    rowDivs[currentDiv].height(currentTallest);\r\n                }\r\n            });\r\n        }\r\n\r\n     \r\n\r\n        // Called automatically when the widget is destroyed\r\n        element.on('$destroy', function () {\r\n            api.unregister();\r\n        });\r\n    }\r\n\r\n    return {\r\n        scope: {},\r\n        replace: true,\r\n        template: template,\r\n        link: widgetContainer\r\n    };\r\n}})( window, window.angular );"]}