!function(n,e,t){i.$inject=["WidgetAPI","$q","$cookies","store","$location","$http","$window","$timeout"],e.module("66205eae-d7d6-4102-8482-d66c7f8a3a1d",["core.services.WidgetAPI"]).directive("widgetVoice",i);var c="https://widgets-uat.glb.emea.qccuat.avayacloud.com/customwidget/";function i(a,n,e,t,i,o,l,s){return{scope:{},replace:!0,template:'<div class="neo-widget widget--widget-voice quatar-widget-voice" id="voice__{{interactionID}}">\n\n    <div class="neo-widget__content neo-widget__content--indented" style="padding: 0px;">\n\n        <header>\n\n            <img class="logo" src="{{widgetHostedURL}}widget-voice/images/Qatar_Airways_W_logo.png" alt="Qatar" title="Qatar" />\n\n        </header>\n\n        <div class="body-container">\n\n            <div class="tab-container">\n\n                <div class="tab-header-container">\n\n                    <ul class="tab-head-list">\n\n                        <li class="tab-switcher-active">\n\n                            <p class="tab-switcher" id="tab-customer-details" data-tab-index="voice__{{interactionID}}__tab1">{{lang[workspace_language].LABLETabCustomerDetails}}</p>\n\n                        </li>\n\n                        <li>\n\n                            <p class="tab-switcher" id="tab-header-call-log" data-tab-index="voice__{{interactionID}}__tab2">{{lang[workspace_language].LABLETabCallLog}}</p>\n\n                        </li>\n\n                        \x3c!-- <li>\n\n                            <p class="tab-switcher" data-tab-index="voice__{{interactionID}}__tab3">{{lang[workspace_language].LABLETabPaymentLink}}</p>\n\n                        </li>--\x3e\n\n                        <li>\n\n                            <p class="tab-switcher" id="tab-header-call-notes" data-tab-index="voice__{{interactionID}}__tab4">{{lang[workspace_language].LABLETabCallNotes}}</p>\n\n                        </li>\n\n\n\n                        \x3c!-- <li class="hide">\n\n                            <p class="tab-switcher" id="tab-transfer" data-tab-index="voice__{{interactionID}}__tab5">\n\n                                {{lang[workspace_language].LABLETabTransfer}}</p>\n\n                        </li> --\x3e\n\n                        <li ng-click="getffpNumber()" ng-if= enableFFPTab>\n\n                            <p class="tab-switcher" id="tab-voicebiometric"\n\n                                data-tab-index="voice__{{interactionID}}__tab6">\n\n                                {{lang[workspace_language].LABLETabVoiceBiometric}}</p>\n\n                        </li>\n\n                        \x3c!-- ng-if=enableAgent --\x3e\n\n                        <li ng-if=enableDeEnroll>\n\n                            <p class="tab-switcher" id="tab-de_enroll" data-tab-index="voice__{{interactionID}}__tab7">\n\n                                {{lang[workspace_language].LABLETabDeEnroll}}</p>\n\n                        </li>\n\n                    </ul>\n\n                </div>\n\n                <div class="tab-body-container">\n\n                    <div class="tab-body  tab-body-active" data-tab-body="voice__{{interactionID}}__tab1">\n\n                        <div class="table-body-container1">\n\n                            \x3c!--<div class="head-content" >\n\n                                <h3>IVR Screen Pop Data</h3>\n\n                            </div>--\x3e\n\n                            <div class="customer-detailinfo-container">\n\n                                <ul class="customer-detailinfo-list" style="">\n\n                                    <li>\n\n                                        <div class="customer-detailinfo" id="channelDetails">\n\n                                            <label>{{lang[workspace_language].LABLEPreferrdChennal}}</label>\n\n                                            <p style="" id="pChannel">\n\n                                                <i></i><span></span>\n\n                                            </p>\n\n                                        </div>\n\n                                    </li>\n\n                                    <li>\n\n                                        <div class="customer-detailinfo" id="customerTire">\n\n                                            <label>{{lang[workspace_language].LABLEPreferrdTire}}</label>\n\n                                            <p style="" id="pTire">\n\n                                                <i></i><span></span>\n\n                                            </p>\n\n                                        </div>\n\n                                    </li>\n\n                                    <li>\n\n                                        <div class="customer-detailinfo" id="identfiedCustomer">\n\n                                            <label>{{lang[workspace_language].LABLEPreferrdIdentified}}</label>\n\n                                            <p style="" id="pIdentified">\n\n                                                <i></i><span></span>\n\n                                            </p>\n\n                                        </div>\n\n                                    </li>\n\n                                    <li>\n\n                                        <div class="customer-detailinfo" id="verifiedCustomers">\n\n                                            <label>{{lang[workspace_language].LABLEPreferrdVerified}}</label>\n\n                                            <p id="pVerified">\n\n                                                <i></i><span></span>\n\n                                            </p>\n\n                                        </div>\n\n                                    </li>\n\n                                    <li>\n\n                                        <div class="customer-detailinfo" id="disruptionStatus">\n\n                                            <label>{{lang[workspace_language].LABLEPreferrdDisruptionStatus}}</label>\n\n                                            <p style="" id="pDisruptionStatus">\n\n                                                <i></i><span></span>\n\n                                            </p>\n\n                                        </div>\n\n                                    </li>\n\n                                    <li>\n\n                                        <div class="customer-detailinfo" id="repeatedcustomers">\n\n                                            <label>{{lang[workspace_language].LABLEPreferrdRepeatedCustomer}}</label>\n\n                                            <p style="" id="pRepeatedCustomer">\n\n                                                <i class="fa-user" style=""></i><span></span>\n\n                                            </p>\n\n                                        </div>\n\n                                    </li>\n\n                                    <li style="width: 50%;">\n\n                                        <div class="customer-detailinfo" id="departure48Hours">\n\n                                            <label>{{lang[workspace_language].LABLEPreferrdFilghtDepartureTimeLessThan48hr}}</label>\n\n                                            <p style="" id="pFlightDepartureTimeLessthen48">\n\n                                                <i class="fa-clock" style=""></i><span></span>\n\n                                            </p>\n\n                                        </div>\n\n                                    </li>\n\n                                </ul>\n\n                            </div>\n\n                            <table class="table-detail-container">\n\n                                <thead>\n\n                                    <tr>\n\n                                        <th colspan="2" style="background-color: #3f617a; font-size: 14px;">Customer Details</th>\n\n                                    </tr>\n\n                                </thead>\n\n                                     <tbody id="tbodyCsNotificationHeader">\n\n                                </tbody>\n\n                            </table>\n\n\n\n                        </div>\n\n                    </div>\n\n                    <div class="tab-body call-log" data-tab-body="voice__{{interactionID}}__tab2">\n\n                        <ul class="form-container flex" style="padding-bottom: 10px" id="call-log-filter">\n\n                            <li>\n\n                                <div class="field-group from-date-field">\n\n                                    <div class="label-field">\n\n                                        <label>{{lang[workspace_language].LABLEStartDate}}</label>\n\n                                    </div>\n\n                                    <div class="input-field">\n\n                                        <input type="text" id="txtStartDate" class="input-date">\n\n                                        <img class="calendar-icon" src="{{widgetHostedURL}}widget-voice/images/start-date-icon.png" alt="Start Date" title="Start Date" />\n\n                                    </div>\n\n                                </div>\n\n                            </li>\n\n                            <li>\n\n                                <div class="field-group to-date-field">\n\n                                    <div class="label-field"><label for="fname">{{lang[workspace_language].LABLEEndDate}}</label></div>\n\n                                    <div class="input-field">\n\n                                        <input type="text" id="txtEndDate" class="input-date">\n\n                                        <img class="calendar-icon" src="{{widgetHostedURL}}widget-voice/images/end-date-icon.png" alt="End Date" title="End Date" />\n\n                                    </div>\n\n                                </div>\n\n                            </li>\n\n                            <li>\n\n                                <div class="field-group">\n\n                                    <div class="label-field">\n\n                                        <label>{{lang[workspace_language].LABLERecentCallNoteSearchMobileNumber}} :</label>\n\n                                    </div>\n\n                                    <div class="input-field">\n\n                                        <input type="text" id="txtRecentSearchMobileNumber" class="input-text" />\n\n                                    </div>\n\n                                </div>\n\n                            </li>\n\n                            <li>\n\n                                <div class="input-field">\n\n                                    <ul class="btn-container">\n\n                                        <li class="pull-right"><button class="input-btn green-btn" ng-click="recentCallNoteSearch_Click()">{{lang[workspace_language].LABLEsearch}}</button></li>\n\n\n\n                                    </ul>\n\n                                </div>\n\n                            </li>\n\n                        </ul>\n\n                        <div class="table-body-container2" style="height: calc(100% - 42px);">\n\n                            <table class="table-container" id="callLogTable_{{interactionID}}">\n\n                                <thead>\n\n                                    <tr>\n\n                                        <th class="callLogTableDate">Date Time</th>\n\n                                        <th class="callLogTableAgentName">Agent Name</th>\n\n                                        <th>Disposition Desc</th>\n\n                                        <th id="callLogTable_callNotes">Call Notes</th>\n\n                                    </tr>\n\n                                </thead>\n\n                                <tbody id="tBodyCallNote">\n\n                                    \n\n                                </tbody>\n\n                            </table>\n\n                        </div>\n\n                    </div>\n\n\n\n                    <div class="tab-body" data-tab-body="voice__{{interactionID}}__tab4">\n\n                        <div class="body-column-container">\n\n                            <div class="column-container" style="width: 100%;">\n\n                                <ul class="form-container" style="padding-top: 10px; padding-bottom: 10px">\n\n                                    <li style="width: 250px;">\n\n                                        <div class="field-group">\n\n                                            <div class="label-field">\n\n                                                <label>{{lang[workspace_language].LABLEDispostionCode}}</label>\n\n                                            </div>\n\n                                            <div class="input-field">\n\n                                                <div class="dropdown-container bottom" id="dispositionCodeDropdown__voice__{{interactionID}}">\n\n                                                    <span class="dropdown-btn"></span>\n\n                                                    <input type="text" class="input-text" readonly placeholder="Select Disposiciton" />\n\n                                                    <i class="fa fa-chevron-down dropdown-icon-btn"></i>\n\n                                                    <div class="dropdown-list-container">\n\n                                                        <input type="text" class="input-search" id="inputsearch" />\n\n\n\n                                                        <ul class="singleselect-dropdown-list" id="disposition_dropdown">\n\n                                                            <li ng-if="dispositionCodeResponse==null" style="display: none;"><data></data></li>\n\n                                                            <li ng-if="dispositionCodeResponse!=null" ng-repeat="dispositioncode in dispositionCodeResponse"><data data-value={{dispositioncode.code}}>{{dispositioncode.friendlyName}}({{dispositioncode.code}})</data></li>\n\n                                                        </ul>\n\n                                                    </div>\n\n                                                </div>\n\n                                            </div>\n\n                                        </div>\n\n                                    </li>\n\n                                    <li>\n\n                                        <div class="field-group">\n\n                                            <div class="label-field">\n\n                                                <label>{{lang[workspace_language].LABLECallNotes}}</label>\n\n                                            </div>\n\n                                            <div class="input-field">\n\n                                                <textarea class="input-textarea" style="height: 250px;" id="txtRecentCallNotes" maxlength="250"></textarea>\n\n                                            </div>\n\n                                        </div>\n\n                                    </li>\n\n                                    <li>\n\n                                        <div class="input-field">\n\n                                            <ul class="btn-container">\n\n                                                <li class="pull-right"><button class="input-btn green-btn" ng-click="saveRecentCallNotes_Click()" id="saveRecentCallNotes">{{lang[workspace_language].BUTTONCallNotes}}</button></li>\n\n                                                <li class="pull-right"><button class="input-btn red-btn" ng-click="cancelRecentCallNotes_Click()" id="cancelRecentCallNotes">{{lang[workspace_language].BUTTONCancel}}</button></li>\n\n                                            </ul>\n\n                                        </div>\n\n                                    </li>\n\n                                </ul>\n\n                            </div>\n\n                        </div>\n\n                    </div>\n\n                    <div class="tab-body transfer hide"  data-tab-body="voice__{{interactionID}}__tab5">\n\n                        <div class="tab-container tab-container2">\n\n                        </div>\n\n                    </div>\n\n                    \n\n                    <div class="tab-body voice-biometric" data-tab-body="voice__{{interactionID}}__tab6">\n\n                        <div class="container">\n\n                            <div class="row">\n\n                                <div class="col-12" style="width: 75%;">\n\n                                    <div class="widget-container">\n\n                                        <div class="mt-3 container-inner col-6">\n\n                                            \x3c!-- Search Input --\x3e\n\n                                            <label for="ffp">FFP :</label>\n\n                                            <div class="search-div">\n\n                                                <input type="text" class="form-control" name="ffp" id="vbffpinput">\n\n                                                <button class="search-button btn btn-primary ffp-search-button" ng-click="searchAndPopulate()">Search</button>\n\n                                            </div>\n\n                                        </div>\n\n                    \n\n                                        \x3c!-- Dynamic Form --\x3e\n\n                                        <form class="mt-3" id="voicebiometricForm">\n\n                                            <div class="mt-3 container-inner">\n\n                                                <label for="customer_name">{{lang[workspace_language].LABELCustomerName}} :</label>\n\n                                                <input type="text" id="vbCustomerName" class="form-control dynamicForminput" name="customer_name" readonly>\n\n                                            </div>\n\n\n\n                                            <div class="mt-3 container-inner">\n\n                                                <label for="email">{{lang[workspace_language].LABELEmailID}} :</label>\n\n                                                <input type="text" class="form-control dynamicForminput" id="vbEmailId" name="email" readonly>\n\n                                            </div>\n\n\n\n                                            <div class="mt-3 container-inner">\n\n                                                <label for="segment">{{lang[workspace_language].LABELSegment}} :</label>\n\n                                                <input type="text" class="form-control dynamicForminput" id="vbSegment" name="segment" readonly>\n\n                                            </div>\n\n\n\n                                            <div class="mt-3 container-inner">\n\n                                                <label for="dob">{{lang[workspace_language].LABELDoB}} :</label>\n\n                                                <input type="text" class="form-control dynamicForminput" id="vbDob" name="dob" readonly>\n\n                                            </div>\n\n\n\n                                            <div class="mt-3 container-inner">\n\n                                                <label for="vb-sts">{{lang[workspace_language].LABELVBStatus}} :</label>\n\n                                                <input type="text" class="form-control dynamicForminput" id="vbSts" name="vb-sts" readonly>\n\n                                            </div>\n\n\n\n                                            <div class="mt-3 container-inner">\n\n                                                <label for="vb-sts-date">{{lang[workspace_language].LABELVBStatusDate}} :</label>\n\n                                                <input type="text" class="form-control dynamicForminput" id="vbStsDate"\n\n                                                    name="vb-sts-date" readonly>\n\n                                            </div>\n\n\n\n                                            <div class="mt-3 container-inner">\n\n                                                <label for="isBlackListed">{{lang[workspace_language].LABELVBBlackListed}} :</label>\n\n                                                <input type="text" class="form-control dynamicForminput vbEligible" id="isBlackListed"\n\n                                                    name="isBlackListed" readonly>\n\n                                            </div>\n\n\n\n                                            <div class="mt-3 container-inner hide">\n\n                                                <label for="vb-eligible">{{lang[workspace_language].LABELVBEligible}} :</label>\n\n                                                <input type="text" class="form-control dynamicForminput vbEligible" id="vbEligible"\n\n                                                    name="vb-eligible" readonly>\n\n                                            </div>\n\n               \n\n\n\n\n\n                                            <div class="mt-3 container-inner checkbox-container hide">\n\n                                                <div class="checkbox-container2">\n\n                                                    <input type="checkbox" class="input-checkbox" name="identified" id="identifiedCheckbox"/>\n\n                                                    <label for="identifiedCheckbox" class="enable_identified_flag" >{{lang[workspace_language].CHECKBOXIdentified}} </label>\n\n                                                </div>\n\n                                                <div class="checkbox-container2">\n\n                                                    <input type="checkbox" class="input-checkbox" name="verified" id="verifiedCheckbox"/>\n\n                                                    <label for="verifiedCheckbox" class="enable_verified_flag">{{lang[workspace_language].CHECKBOXVerified}} </label>\n\n                                                </div>\n\n                                            </div>\n\n                    \n\n                                            \x3c!-- Other form elements or buttons can be added here --\x3e\n\n                                            <div class="mt-3 container-inner dynamicForminput_button">\n\n                                                <button class="input-btn red-btn hide" ng-click="clearForm_Click()" id="clearVoicebiomatricForm">{{lang[workspace_language].BUTTONClear}}</button>\n\n                                                <button class="input-btn green-btn" style="display: none" id="vb-Transfer-btn" ng-click="btnTransferClick(\'TRANSFER\')" >{{lang[workspace_language].BUTTONTransfer}}</button>\n\n                                            </div>\n\n                                        </form>\n\n                                    </div>\n\n                                </div>\n\n                            </div>\n\n                        </div>\n\n                    </div>\n\n                    \n\n                    <div class="tab-body" data-tab-body="voice__{{interactionID}}__tab7">\n\n                        <div class="body-column-container">\n\n                            <div class="column-container" style="width: 100%;">\n\n                                <ul class="form-container" style="padding-top: 10px; padding-bottom: 10px">\n\n                                    <li>\n\n                                        <div class="field-group">\n\n                                            <div class="label-field">\n\n                                                <label>{{lang[workspace_language].LABLETabDeEnroll}}</label>\n\n                                            </div>\n\n                                            <div class="input-field">\n\n                                                <textarea class="input-textarea" style="height: 250px;" id="txtDeEnrollementNotes" ng-model="deEnrollementNotes" ng-change="checkTextareaEmpty()"  disabled></textarea>\n\n                                                <span class="txtDeEnrollementNotes_msg"></span>\n\n                                            </div>\n\n                                        </div>\n\n                                    </li>\n\n                                    <li>\n\n                                        <div class="input-field">\n\n                                            <ul class="btn-container">\n\n                                                <li class="pull-right saveDeEnrollementNotesli" style="position: relative;">\n\n                                                    <button class="input-btn green-btn hide" ng-click="saveDeEnrollementNotes_Click()" id="saveDeEnrollementNotes" ng-disabled="!deEnrollementNotes">{{lang[workspace_language].BUTTONDeEnroll}}</button>\n\n                                                    <div class="tooltip-message">\n\n                                                        <span class="hover-msg">{{lang[workspace_language].DEENROLLHoverMessage}}</span>\n\n                                                    </div>\n\n                                                \n\n                                                </li>\n\n                                                <li class="pull-right"><button class="input-btn red-btn" ng-click="clearDeEnrollementNotes_Click()" id="clearDeEnrollementNotes" style="display: none;">{{lang[workspace_language].BUTTONClear}}</button></li>\n\n                                            </ul>\n\n                                        </div>\n\n                                    </li>\n\n                                </ul>\n\n                            </div>\n\n                        </div>\n\n                    </div>\n\n                    \x3c!-- voice biometric --\x3e\n\n                </div>\n\n            </div>\n\n        </div>\n\n    </div>\n\n\n\n    <div class="popup-body-container message-popup-container hide" style="z-index: 99999999">\n\n        <div class="popup-container">\n\n            <div class="popup-header">\n\n                <h4 class="message-popup-head" id="message-popup-head"></h4><i class="close-pop-btn hide">X</i>\n\n            </div>\n\n            <div class="popup-body" style="min-height: 80px;">\n\n                <p class="popupmessage" id="message-popup-content"></p>\n\n            </div>\n\n            <div class="popup-footer">\n\n                <ul class="popup-btn-container">\n\n                    <li class="pull-right"><button class="input-btn green-btn close-pop-btn" id="btnCancelMessagePopup"\n\n                            ng-click="btnCancelMessagePopup_click()">Close</button></li>\n\n                </ul>\n\n            </div>\n\n        </div>\n\n    </div>\n\n\n\n</div>',link:function(i,n,e){var t=new a(e);InitVoiceLog(i),LoadVoiceConfiguration(i),i.interactionData=t.getInteractionData(),i.configuration=t.getConfiguration(),i.interactionID=t.getInteractionId(),i.workRequestId="",i.workspace_language="en-us"==t.getConfiguration().locale.id.toString()?"EN":"AR",i.isSecure="https:"==document.location.protocol?"https://":"http://",i.widgetHostedURL=c,i.htmlInteractionPrefix="#voice__"+i.interactionID,i.capabilities="",i.contextData="",i.objCsDetails="",i.objInteraction="",i.widgetRefId="",i.alertingTime="",i.answerTime="",i.acwTime="",i.endTime="",i.dispoitionId="",i.dispoitionValue="",i.notesSaved=!1,i.senderTitle="",i.callType="",i.transferType="",i.transferVal="",i.jsonCustomerList={},i.lastInteractionState="",i.lastContextState="",i.serviceType="",i.ivr_language="",i.channel="",i.agentHandle=i.configuration.handle,i.interactionState="",i.agentType="",i.notification=[],i.repeatedCustomer=0,i.callNotes="",i.dispositionDesc="",i.dispositionCode="",i.isNewCall=!1,i.servicesTransferList=[],i.servicesTransferListRawJson=[],i.callNotes=[],i.dispositionCodeResponse=[],i.recentCallNotesJsonResponse=[],i.bodyNotificationHeader=[],i.updateCsDetailsFlag=!1,i.ffpUpdateCsResponse="",i.validateSaveDeenrollFlag=!1,i.txtDeEnrollementNotes="",InitVoiceMethodsInsideScope(i),i.WriteLog(DEBUG,"configuration - Data - "+JSON.stringify(i.configuration)),t.onDataEvent("onCapabilitiesEvent",function(n){i.WriteLog(INFO,"onCapabilitiesEvent - Intraction ID- "+i.interactionID+". Data - "+JSON.stringify(n)),i.capabilities=n.capabilities,i.completeConfereneTransfer(i,t,n)}),t.onDataEvent("onContextDataEvent",function(n){i.WriteLog(INFO,"onContextDataEvent - Data - "+JSON.stringify(n)),i.onContextDetails(i,t,n,s)}),t.onDataEvent("onInteractionEvent",function(n){if(i.WriteLog(INFO,"onInteractionEvent START. State -"+n.state+". Data"+JSON.stringify(n)),i.interactionID=n.id,i.objInteraction=n,i.workRequestId=n.workRequestId,i.senderTitle=n.title,i.ucid=n.contactId,"ALERTING"==n.state||"INITIATED"==n.state)i.onAlerting(i,t,n,s);else if("ACTIVE"==n.state){if("ACTIVE"==i.lastInteractionState)return i.WriteLog(DEBUG,"onInteractionEvent. Repeated Active event. Skipping.."),void i.onActiveSkipping(i,t,n,s);i.interactionState=n.state,i.onActive(i,t,n,s)}else"ACW"==n.state&&i.onACW(i,t,n,s);i.WriteLog(INFO,"onInteractionEvent END. ")}),t.onDataEvent("onInteractionEndedEvent",function(n){i.WriteLog(DEBUG,"onInteractionEndedEvent ->  Start - "+JSON.stringify(n)),i.onInteractionEnded(i,t,n,s),i.WriteLog(DEBUG,"onInteractionEndedEvent ->  END ")}),t.onDataEvent("onCardFocusedEvent",function(n){i.WriteLog(DEBUG,"onCardFocusedEvent ->  Start. Card Focused Data -  "+JSON.stringify(n)),i.onCardFocusedEvent(i,n)}),i.saveRecentCallNotes_Click=function(){i.WriteLog(DEBUG,"saveRecentCallNotes_Click ->  Start "),i.saveRecentCallNotes(i,"saveRecentCallNotes_Click"),i.WriteLog(DEBUG,"saveRecentCallNotes_Click ->  END ")},i.cancelRecentCallNotes_Click=function(){i.WriteLog(DEBUG,"cancelRecentCallNotes_Click ->  Start "),i.cancelRecentCallNotes(i),i.WriteLog(DEBUG,"cancelRecentCallNotes_Click ->  END ")},i.recentCallNoteSearch_Click=function(){i.WriteLog(DEBUG,"recentSearch_Click ->  Start "),i.SearchRecentCallNotes(i),i.WriteLog(DEBUG,"recentSearch_Click ->  END ")},i.btnCancelMessagePopup_click=function(){i.onbtnCancelMessagePopup(i)},i.clearDeEnrollementNotes_Click=function(){i.WriteLog(DEBUG,"clearDeEnrollementNotes_Click ->  Start "),i.clearDeEnrollementNotes(i),i.WriteLog(DEBUG,"clearDeEnrollementNotes_Click ->  END ")},i.btnTransferClick=function(n){i.WriteLog(INFO,"btnTransferClick -Start. Call Type "+n),i.callType=n,"TRANSFER"==i.callType&&i.makeCallTransferConference(i,t),i.WriteLog(INFO,"btnTransferClick -End")},i.saveDeEnrollementNotes_Click=function(){i.WriteLog(DEBUG,"saveDeEnrollementNotes_Click ->  Start "),i.saveDeEnrollementNotes(i,"saveDeEnrollementNotes_Click"),i.WriteLog(DEBUG,"saveDeEnrollementNotes_Click ->  END ")},$(document).on("change",".checkbox-container2 input",function(){i.validateForm()}),$(document).on("keypress",i.htmlInteractionPrefix+" #vbffpinput",function(n){13!==n.which&&13!==n.keyCode||""!==$("#vbffpinput").val().trim()&&($(".ffp-search-button").prop("disabled")||(n.preventDefault(),i.searchAndPopulate()))}),$(document).on("keypress",i.htmlInteractionPrefix+" #txtDeEnrollementNotes",function(n){13!==n.which&&13!==n.keyCode||""!==$("#txtDeEnrollementNotes").val().trim()&&($("#saveDeEnrollementNotes").prop("disabled")||(n.preventDefault(),i.saveDeEnrollementNotes_Click()))}),$(document).on("keyup",".quatar-widget-voice .table-search-container .table-search-field #inputsearch",function(){var n=$(this).closest(".table-search-field").data("table-id"),e=this.value.toLowerCase().trim();$("#"+n+" tr").each(function(n){n&&$(this).find("td").each(function(){var n=-1==$(this).text().toLowerCase().trim().indexOf(e);return $(this).closest("tr").toggle(!n),n})})}),$(document).on("mouseenter","#voice__"+i.interactionID+".quatar-widget-voice .table-container#callLogTable_"+i.interactionID+" > tbody > tr > td",function(){var n=$(this).children("p").data("td"),e=$(this).width(),t=$(this).children("p").offset(),i=t.left,a=t.top;if(""==n||"0"==n||"-"==n);else{$(this).append('<span class="tooltipcontent-fixed" style="left:'+i+"px; max-width:"+e+'px;">'+n+"</span>");var o=a-$(".tooltipcontent-fixed").height()-15;$(".tooltipcontent-fixed").css("top",o+"px")}}),$(document).on("mouseleave","#voice__"+i.interactionID+".quatar-widget-voice .table-container#callLogTable_"+i.interactionID+" > tbody > tr > td",function(){$(this).children(".tooltipcontent-fixed").remove()}),i.callLogDataTableClear=function(){},i.callLogDataTable=function(){},$(document).on("click","#voice__"+i.interactionID+".quatar-widget-voice .close-pop-btn ",function(){$(this).closest(".popup-body-container").addClass("hide")}),$(document).on("mouseover",i.htmlInteractionPrefix+" .widget-notfication-icon",function(){$(i.htmlInteractionPrefix+" .widget-notfication-icon .widget-notfiy-icon-count").hide()}),$(document).on("click",".notification-information-list-container .notification-information-list .voice-close-notifi",function(){var n=$(this).closest(".notification-information-list").attr("id");$("#"+n).removeClass("info-notification-active").remove()}),$(document).on("click","#voice__"+i.interactionID+".quatar-widget-voice .tab-container .tab-header-container .tab-head-list > li > p.tab-switcher",function(){var n=$(this).data("tab-index");$(this).parent("li").addClass("tab-switcher-active").siblings().removeClass("tab-switcher-active"),$("#voice__"+i.interactionID+".quatar-widget-voice .tab-container .tab-body-container .tab-body[data-tab-body = "+n+"]").addClass("tab-body-active").siblings().removeClass("tab-body-active")}),$(document).ready(function(){setTimeout(function(){},3e3)}),$(function(){$("#voice__"+i.interactionID+".quatar-widget-voice #txtStartDate").datetimepicker({ignoreReadonly:!0,format:"DD/MM/YYYY",defaultDate:new Date,maxDate:new Date}),$("#voice__"+i.interactionID+".quatar-widget-voice #txtEndDate").datetimepicker({ignoreReadonly:!0,format:"DD/MM/YYYY",defaultDate:new Date,minDate:new Date,maxDate:new Date}),$("#voice__"+i.interactionID+".quatar-widget-voice #txtStartDate").datetimepicker().on("dp.change",function(n){$("#voice__"+i.interactionID+".quatar-widget-voice #txtEndDate").data("DateTimePicker").minDate(new Date(n.date))})}),$(document).on("click","#voice__"+i.interactionID+" .dropdown-container .dropdown-btn",function(){var n=$(this).closest(".dropdown-container").attr("id");$("#"+n).toggleClass("dropdown-active").closest("li").siblings("li").find(".dropdown-container").removeClass("dropdown-active")}),$(document).ready(function(){$(document).on("click",".dropdown-container .dropdown-list-container .singleselect-dropdown-list li data",function(){var n=$(this).closest(".dropdown-container").attr("id"),e=$(this).text();$(this).data("value"),$(this).parent("li").addClass("active").siblings("li").removeClass("active").closest(".dropdown-container").removeClass("dropdown-active"),$("#"+n+".dropdown-container .input-text").val(e),$(".dropdown-container #inputsearch").val(""),$(".dropdown-container .dropdown-list-container .singleselect-dropdown-list li:nth-child(n+2)").show()}),$(document).on("click",function(n){!1===$(n.target).is(".dropdown-container .dropdown-btn, .dropdown-container #inputsearch, #liTopice, #liTopice .label-field label")&&($(".dropdown-container").removeClass("dropdown-active"),$(".dropdown-container #inputsearch").val(""),$(".dropdown-container .dropdown-list-container .singleselect-dropdown-list li:nth-child(n+2)").show())})}),$(document).on("keyup",".dropdown-container .dropdown-list-container #inputsearch",function(){var n=$(this).closest(".dropdown-container").attr("id"),e=this.value.toLowerCase().trim();$("#"+n+".dropdown-container .dropdown-list-container .singleselect-dropdown-list li").each(function(n){n&&$(this).find("data").each(function(){var n=-1==$(this).text().toLowerCase().trim().indexOf(e);return $(this).closest("li").toggle(!n),n})})}),$(document).on("click",".voicenewmsgnotification_"+i.interactionID+" .customer-name-info",function(){i.WriteLog(INFO,"voice notification new message focus -> Start"),i.setFocusOnNotificationClick(i,t),i.WriteLog(INFO,"voice notification new message focus -> End")}),$(document).on("click",".dropdown-container#dispositionCodeDropdown__voice__"+i.interactionID+" .dropdown-list-container .singleselect-dropdown-list li data",function(){var n=$(this).closest(".dropdown-container").attr("id"),e=$(this).text();e=e.split(" (")[0];var t=$(this).data("value");i.dispotionDropdownChange(i,n,e,t)}),$(document).ready(function(){$("#voice__"+i.interactionID+".quatar-widget-voice .body-container").width()<="648"&&$("#voice__"+i.interactionID+".quatar-widget-voice .body-container").addClass("widget-tab-view")}),equalheight=function(n){var e,t=0,i=0,a=new Array;$(n).each(function(){if(e=$(this),$(e).height("auto"),topPostion=e.position().top,i!=topPostion){for(currentDiv=0;currentDiv<a.length;currentDiv++)a[currentDiv].height(t);a.length=0,i=topPostion,t=e.height(),a.push(e)}else a.push(e),t=t<e.height()?e.height():t;for(currentDiv=0;currentDiv<a.length;currentDiv++)a[currentDiv].height(t)})},n.on("$destroy",function(){t.unregister()})}}}}(window,window.angular);
//# sourceMappingURL=widget-voice.js.map